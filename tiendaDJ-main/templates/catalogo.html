{% extends 'base.html' %}
{% load static %}

{% block titulo %}Catálogo{% endblock %}

{% block contenido %}

<h1 style="margin-bottom: 30px; font-size: 28px; font-weight: normal;">Catálogo de Productos</h1>

{% if productos.count == 0 %}
<p>No hay productos disponibles en este momento.</p>
{% else %}

<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px;">
    {% for producto in productos %}
    <div style="border: 1px solid #ddd; padding: 10px; background: white;">
        {% if producto.imagenes.first %}
            <img src="{{ producto.imagenes.first.imagen.url }}" 
                alt="{{ producto.nombre }}" 
                style="width: 100%; height: 150px; object-fit: cover; margin-bottom: 10px;">
        {% else %}
            <div style="width: 100%; height: 150px; background: #e0e0e0; margin-bottom: 10px; display: flex; align-items: center; justify-content: center; color: #999;">
                Sin imagen
            </div>
        {% endif %}
        
        <h3 style="font-size: 16px; margin: 10px 0; font-weight: normal;">{{ producto.nombre }}</h3>
        <p style="font-size: 13px; color: #666; margin: 5px 0;">{{ producto.categoria.nombre }}</p>
        <p style="font-size: 15px; color: #2c7f2c; font-weight: bold; margin: 10px 0;">${{ producto.precio_base }}</p>
        
        <a href="{% url 'producto_detalle' producto.slug %}" 
            style="display: inline-block; background: #333; color: white; padding: 8px 15px; text-decoration: none; font-size: 14px; margin-top: 10px;">
            Ver detalles
        </a>
    </div>
    {% endfor %}
</div>

{% endif %}

{% endblock %}
